{% extends "base.html" %}
{% load static wagtailcore_tags wagtailimages_tags ub_core_tags i18n %}

{% block extra_js %}
{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'bower_components/unslider/dist/css/unslider.css' %}">
    <link rel="stylesheet" href="{% static 'bower_components/unslider/dist/css/unslider-dots.css' %}">
{% endblock %}

{% block body_class %}home{% endblock %}


{% block content %}

    <section class="content">

        <h1 class="invisible-title">(Un)usual Business</h1>
        <!--<h1>{% if self.seo_title %}{{ self.seo_title }}{% else %}{{ self.title }}{% endif %}</h1>-->

        <section class="l-feature">

            <section class="l-featured-articles featured-articles unslider" >
                <h3 class="section-title">Uitgelicht</h3>
                <ul class="featured-articles-list">
                    {% for page in pages %}
                        {% if page.content_type.model == 'eventpage' %}
                            {% include "events/modules/featured_event.html" %}
                        {%  elif page.content_type.model == 'howtopage' %}
                            {% include "howtos/modules/featured_howto.html" %}
                        {%  elif page.content_type.model == 'definitionpage' %}
                            {% include "definitions/modules/featured_definition.html" %}
                        {%  elif page.content_type.model == 'organizationpage' %}
                            {% include "organizations/modules/featured_organization.html" %}
                        {%  elif page.content_type.model == 'reportarticlepage' %}
                            {% include "articles/modules/featured_article.html" with article_class="blue" %}
                        {%  elif page.content_type.model == 'storyarticlepage' %}
                            {% include "articles/modules/featured_article.html" with article_class="yellow" %}
                        {%  elif page.content_type.model == 'theoryarticlepage' %}
                            {% include "articles/modules/featured_article.html" with article_class="green" %}
                        {% else %}
                            {% include "articles/modules/featured_article.html" with article_class="blue" %}
                        {% endif %}
                    {% endfor %}
                </ul>
            </section>

            <section class="l-featured-agenda featured-agenda">
                <h3 class="section-title featured-agenda-title">Agenda</h3>
                <ul class="featured-agenda-items">
                    {% for event in upcoming_events %}
                        {% include "events/modules/agenda_item.html" with vertical_date_class="vertical-date-small" %}
                    {% endfor %}
                </ul>
                <footer class="featured-agenda-footer">
                    <a href="#" >Alle evenementen >></a>
                </footer>
            </section>

        </section>

        <hr>

        <section class="l-featured-snippets">

            <section class="featured-links">
                <h3 class="section-title is-hidden">Featured Links</h3>
                <ul class="featured-link-list">
                    <li class="featured-link blue">
                        <a href="#" >Kan ik betrokken raken?</a>
                    </li>
                    <li class="featured-link black">
                        <a href="#">Wie zijn wij?</a>
                    </li>
                    <li class="featured-link yellow">
                        <a href="#">Hoe werkt deze website?</a>
                    </li>
                    <li class="featured-link green">
                        <a href="#">Waarom deze website?</a>
                    </li>
                </ul>
            </section>

            <section class="featured-journal">
                <h3 class="section-title is-hidden">Featured Call-out</h3>
                <a href="#" class="featured-journal-link">
                    <img src="/media/images/journal-1.max-800x600.jpg" class="featured-journal-image" />
                    <div class="featured-journal-overlay is-hidden">
                        <header class="featured-journal-header">Lees hier onze journal #1</header>
                        <h4>
                            <strong>Utrecht<br>Meent<br>het</strong>
                        </h4>
                    </div>
                </a>
            </section>

        </section>

        <hr>

        <section class="latest">
            <h2>Filters</h2>
            <ul>
                <li class="stories"><a href="{% slugurl 'stories' %}">Stories</a></li>
                <li class="events-reports-news"><a href="{% slugurl 'events' %}">Events & News</a></li>
                <li class="ideas"><a href="{% slugurl 'theory' %}">Ideas</a></li>
                <li class="organizations"><a href="{% slugurl 'organizations' %}">Organizations</a></li>
            </ul>

            <h2><img src="/static/images/how-to-circles.svg" width="40" height="40" class="how-to-circles" /> How to's</h2>

            <div class="how-tos">
                {% for how_to in how_tos %}
                    <ul>
                        <li class="{{ how_to | to_class_name }}"><a href="{% pageurl how_to %}">{{ how_to.title }}</a> ({{ how_to.first_published_at|date:"SHORT_DATETIME_FORMAT" }})</li>
                    </ul>
                {% endfor %}
            </div>

            <h2>Pages</h2>
            <div class="pages">
                {% for the_page in pages %}
                    <ul>
                        <li class="{{ the_page | to_class_name }}"><a href="{% pageurl the_page %}">{{ the_page.title }}</a> ({{ the_page.first_published_at|date:"SHORT_DATETIME_FORMAT" }})</li>
                    </ul>
                {% endfor %}
            </div>

            <div class="stream">
                {% for block in page.stream %}
                    {% if block.block_type == 'heading' %}
                        <h1>{{ block.value }}</h1>
                    {% else %}
                        <section class="block-{{ block.block_type }}">
                            {{ block }}
                        </section>
                    {% endif %}
                {% endfor %}
            </div>
        </section>
    </section>

{% endblock %}
