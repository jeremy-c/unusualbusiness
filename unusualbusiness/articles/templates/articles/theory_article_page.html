{% extends "articles/article_page_base.html" %}
{% load static wagtailimages_tags wagtailcore_tags ub_core_tags ub_wagtailcore_tags ub_template_utils i18n %}

{% block body_class %}theory-article {{ block.super }}{% endblock %}


{%  block tableofcontents %}
    <div class="toc-wrapper ">
        <a href="" class="toggle-toc-link icon-wrapper-large animated bounceInLeft">
            <svg width="25.178px" height="20.185px"  class="toc-icon" >
                <title>Table of Contents icon</title>
                <desc>Click to open Table of Contents</desc>
                <use xlink:href="#toc-icon" />
            </svg>
        </a>
        <section class="article-table-of-contents is-closed" >
            <ul class="toc-list is-hidden animated bounceInLeft" data-gumshoe >
                    <li class="toc-list-item toc-introduction">
                        <a class="toc-link" href="#introduction" data-scroll >
                            {% trans 'Introduction' %}
                        </a>
                    </li>
                {% for block in page.body %}

                    {% if block.block_type == 'chapter' %}
                        <li class="toc-list-item toc-{{ block.block_type }}">
                            <a class="toc-link" href="#{{ block.value.chapter_name|ub_slugify_anchor }}" data-scroll >
                                {{ block.value.chapter_name }}
                            </a>
                        </li>
                    {% elif block.block_type == 'section' %}
                        <li class="toc-list-item toc-{{ block.block_type }}">
                            <a class="toc-link" href="#{{ block.value.section_name|ub_slugify_anchor }}" data-scroll >
                                {{ block.value.section_name }}
                            </a>
                        </li>
                    {% elif block.block_type == 'subsection' %}
                        <li class="toc-list-item toc-{{ block.block_type }}">
                            <a class="toc-link" href="#{{ block.value.subsection_name|ub_slugify_anchor }}" data-scroll >
                                {{ block.value.subsection_name }}
                            </a>
                        </li>
                    {% endif %}

                {% endfor %}
            </ul>
        </section>
    </div>
{% endblock %}

